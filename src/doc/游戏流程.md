开发过程记录文档
待补充....

---

思考方块的结构表示,棋盘构成,坐标以及单元格的概念

---

花了大量时间构思方块的旋转,实际上是一个很简单的问题,只是为了计算出方块的坐标

---

最新的进度是,已经可以造出自动下落的方块,然后接下来还需要支持移动以及旋转这两步

---

突然想到,down这一操作其实应该归属于move这一操作,只不过是向下移动,区别就是X或者Y坐标的累加,之后可以进一步优化
后续的话,就是把move和rotate两个基础操作写出来,然后就是整个游戏流程的构思了..

---

额外需要补充的就是,游戏面板的数据,消除整行(多行)操作,方块固定的判断,方块是否可以旋转和移动判断,我觉得最为关键的还是要把最底层那些操作写好想好

---

现在的状况就是,整个游戏的准备部分似乎差不多了,但是还不能运行起来,比如我的所谓的当前方块如何操作????
假设我现在生成一个方块,然后给一个全局变量赋值,然后就可以对方快(其实就是坐标)移动旋转,有没有可能把方块写成一个class?然后里面写一个down方法,一个监听move方法...
然后方块肯定不能一次生成一个,最好是有个队列,生成多个不够再加,每次从队列头拿出一个,或者说我的队列头就是`当前方块,然后我的方块在固定之后才从当前队列移除,下一个上位
所以所谓的游戏流程就可以跟着这个队列走?

---

过了个中午,随便想了一下,一开始生成两个就好了,永远多一个哈哈哈,然后我感觉现在对与当前方块的操作不是那么舒适,总觉得在move内部对方块坐标更改有点怪?我代码中的方块,其实也就是由坐标组成的,在这个坐标系里面才有意义,所以假设我对方快进行移动或者旋转操作,更改内部的坐标值其实也很自然地说?

---

接下来还有两个比较麻烦的东西(明明是简单...),一个就是代码结构,还有一个就是方块固定涉及的计算,虽然我还没写旋转,但是我认为在数学层面我已经解决了对吧.整个游戏流程还要进一步优化.接下来就先把旋转写了,然后就是面板的数据结构还有算法(说的这么高级,其实简直跟小学生问题一样...),出发!

---

现在基本的旋转和移动都处理好了,需要把整个网格数据处理好,能不能移动,旋转以及是否固定住(停止下沉);还有就是消除的判定,消除肯定是一整行(或者说多行)的,需要用到我写的那个delRectCell?删除之后需要把上半部分移动(其实也是下移,看移动多少格子),现有的判断是否重复,以及绘制单个cell和删除单个cell不太够用啊...难道需要重新写,重新加入?或者把这些draw和del方法写道gamePanel里面,似乎合理一点?

---

固定以及相关判断都写了,明天的计划就是把消除写好,然后剩下的就是优化操作手感游戏体验这些,当然还有游戏的分统计,游戏结束判断,以及游戏UI,感觉还有好多内容,但是代码部分要结束了.,可能目前为止花了10h?值得一提的就是现在的模块是否合理呢?然后有没有更好的组织方式?
那些向量相关的计算判断能不能做得更好?太多可以更改的地方了...

---

基础功能算是完结了,但是写着写着感觉还有好多需要优化的地方啊,下落速度控制,左右两边的旋转, offset的计算.整个游戏的核心机制还有很多潜在问题,代码也有许多不足之处啊啊啊啊,可是我真的江郎才尽了啊.好像之前计算总体偏移值有点奇怪,为什么会产生偏移值?因为我做了舍入操作,正常来说是不会有的,中心旋转就是中心旋转,然后在我瞎几把写完之后才发现,现在要支持左右两边的旋转居然有点困难,或许明天醒来就想到了???感觉中间某次尝试有点接近了,但是rotate方法看起来太过变扭,真的又臭又长,哎,long way to go啊,我还是真的蛮垃圾的啊啊啊啊啊啊啊啊啊,气死了.

---

貌似解决了旋转的的部分问题,但是又发现,计算偏移和判断可旋转之间存在顺序问题,如果我计算了偏移量,但是不可以旋转,就会出现问题,这里需要修复一下...然后,关于之后的边界旋转应该问题不大了,一点点来吧,我也只有这点水平了,多了一个想法,就是我可以同时多开几个项目,感觉一直阻塞在这一个项目上,效率实在不高,再加上每天还要打游戏,哎.要是我学习能和玩游戏一样自律就好了.那我估计已经是行业大(大个jb,游戏也大的不行,真的好意思说...)中的最垃圾的程序员了...
下一个项目我想启动植物大战僵尸哈哈哈哈,童年梦想啊...